<script>
	import { fly } from 'svelte/transition';
	import { onMount } from 'svelte';
	import Icon from '@iconify/svelte';

	const softSkills = [
		{
			name: 'Adaptabilit√©',
			color: '#3498db',
			description: 'Capacit√© √† s\'adapter √† diff√©rents environnements de travail et √† des technologies vari√©es. Dans le projet de cr√©ation de la page d\'accueil d\'une agence de voyage, j\'ai d√ª m\'adapter aux maquettes Figma et aux exigences sp√©cifiques du client, en int√©grant l\'interface responsive de mani√®re efficace.'
		},
		{
			name: 'R√©solution de Probl√®mes',
			color: '#e74c3c',
			description: 'Aptitude √† identifier des probl√®mes et √† trouver des solutions efficaces. Lors du d√©bogage et de l\'optimisation du site de photographe, j\'ai analys√© les performances et propos√© des solutions pour am√©liorer le r√©f√©rencement et l\'accessibilit√©, ce qui a permis d\'augmenter la visibilit√© du site.'
		},
		{
			name: 'Collaboration',
			color: '#2ecc71',
			description: 'Capacit√© √† travailler efficacement en √©quipe et √† communiquer avec les autres. Dans le projet de d√©veloppement du back-end d\'un site de notation de livres, la collaboration avec d\'autres d√©veloppeurs et designers a √©t√© essentielle pour assurer une int√©gration fluide entre le front-end et le back-end.'
		},
		{
			name: 'Gestion du Temps',
			color: '#f39c12',
			description: 'Capacit√© √† g√©rer son temps efficacement pour respecter les d√©lais. La gestion de plusieurs projets, comme la cr√©ation d\'une application web de location immobili√®re et d\'une page web dynamique, a n√©cessit√© une bonne organisation et une planification rigoureuse pour respecter les d√©lais impartis.'
		},
		{
			name: 'Cr√©ativit√©',
			color: '#9b59b6',
			description: 'Capacit√© √† penser de mani√®re cr√©ative pour concevoir des solutions innovantes. Dans le projet de cr√©ation d\'une page web dynamique, j\'ai utilis√© JavaScript pour cr√©er des interactions utilisateur engageantes, n√©cessitant une approche cr√©ative pour am√©liorer l\'exp√©rience utilisateur.'
		},
		{
			name: 'Attention aux D√©tails',
			color: '#1abc9c',
			description: 'Capacit√© √† pr√™ter attention aux d√©tails pour garantir la qualit√© du code et du design. Lors de l\'int√©gration des maquettes Figma pour le projet d\'agence de voyage, l\'attention aux d√©tails √©tait cruciale pour respecter les sp√©cifications de design et assurer une interface utilisateur coh√©rente.'
		},
		{
			name: 'Comp√©tences en Communication',
			color: '#e67e22',
			description: 'Capacit√© √† communiquer clairement des id√©es techniques √† des non-techniciens. La r√©daction de rapports sur les r√©sultats des optimisations effectu√©es sur le site de photographe a n√©cessit√© une communication claire et concise, facilitant la compr√©hension des changements apport√©s.'
		},
		{
			name: 'Esprit Critique',
			color: '#34495e',
			description: 'Capacit√© √† √©valuer et √† critiquer son propre travail et celui des autres. En analysant les performances du site et en proposant des am√©liorations, j\'ai d√©velopp√© un esprit critique sur les pratiques de d√©veloppement, ce qui m\'a permis d\'am√©liorer continuellement la qualit√© de mon travail.'
		}
	];

	let mountedSoftSkills = false;

	const skills = {
		frontend: [
			{ name: 'HTML', icon: 'logos:html-5' },
			{ name: 'CSS', icon: 'logos:css-3' },
			{ name: 'JavaScript', icon: 'logos:javascript' },
			{ name: 'Svelte', icon: 'logos:svelte-icon' },
			{ name: 'React', icon: 'logos:react' }
		],
		backend: [
			{ name: 'Node.js', icon: 'logos:nodejs-icon' },
			{ name: 'Express', icon: 'logos:express' },
			{ name: 'MongoDB', icon: 'logos:mongodb-icon' },
		],
		tools: [
			{ name: 'Git', icon: 'logos:git' },
			{ name: 'Webstorm', icon: 'logos:webstorm' },
			{ name: 'Postman', icon: 'logos:postman-icon' },
			{ name: 'Vercel', icon: 'logos:vercel-icon' },
			{ name: 'Notion', icon: 'logos:notion-icon' }
		]
	};

	let mountedSections = {
		frontend: false,
		backend: false,
		tools: false
	};

	onMount(() => {
		// Initialiser l'animation des soft-skills
		mountedSoftSkills = true;

		// Observer les sections de comp√©tences techniques
		const sections = document.querySelectorAll('.skills-section[data-section]');
		const observer = new IntersectionObserver((entries) => {
			entries.forEach(entry => {
				if (entry.isIntersecting) {
					const sectionType = entry.target.getAttribute('data-section');

					// V√©rifier si c'est une section valide dans notre mod√®le
					if (sectionType && skills[sectionType]) {
						mountedSections[sectionType] = true;
					}

					observer.unobserve(entry.target);
				}
			});
		}, {
			threshold: 0.1
		});

		sections.forEach(section => observer.observe(section));

		return () => {
			sections.forEach(section => observer.unobserve(section));
		};
	});
</script>

<div class="about-container" in:fly="{{ y: 50, duration: 500 }}">
	<h1 class="page-title">√Ä propos</h1>

	<div class="about-grid">
		<section class="about-section">
			<h2>Mon Parcours</h2>
			<div class="content-card">
				<p>
					Actuellement en reconversion dans le d√©veloppement web, je recherche une alternance pour renforcer mes comp√©tences et contribuer √† des projets concrets.
					<br><br>
					J'ai d√©velopp√© une forte capacit√© d'adaptation et une approche autonome et pragmatique dans l'apprentissage des technologies web. Passionn√© par le JavaScript, le d√©veloppement front-end et l'optimisation des interfaces, je suis motiv√© √† concevoir des solutions performantes et intuitives.
					<br><br>
					En int√©grant votre √©quipe, je souhaite mettre mes comp√©tences en React, JavaScript et API au service de vos projets tout en continuant √† progresser au contact de d√©veloppeurs exp√©riment√©s.
					<br><br>
					üí° Motiv√©, curieux et pr√™t √† relever de nouveaux d√©fis, je suis disponible imm√©diatement pour un √©change !
				</p>
			</div>
		</section>

		<section class="about-section">
			<h2>Soft-skills</h2>
			<div class="soft-skills-list">
				{#each softSkills as skill}
					<div class="soft-skill-card" style="--skill-color: {skill.color}">
						<span class="soft-skill-name">
							{skill.name}
						</span>
						<div class="skill-description">
							<p>{skill.description}</p>
						</div>
					</div>
				{/each}
			</div>

			<div class="buttons-container">
				<a href="https://directory.opquast.com/fr/certificat/DV4H6G/" target="_blank" class="certificate-link">
					<div class="certificate-button">
						<img src="/images/Opquast.png" alt="Certificat Opquast" class="certificate-image" />
						<span class="certificate-text">Certificat Opquast</span>
					</div>
				</a>
				<a href="/Documents/Alternance_contrat_d_apprentissage_Developpeur-Web_et_Mobile.pdf" target="_blank" class="certificate-link">
					<div class="certificate-button">
						<img src="/images/icon-cv.png" alt="Mon CV" class="certificate-image" />
						<span class="certificate-text">Mon CV</span>
					</div>
				</a>
			</div>
		</section>
	</div>
</div>

<div class="skills-container" in:fly="{{ y: 50, duration: 500 }}">
	<h1 class="page-title">Comp√©tences</h1>

	<div class="skills-sections">
		<section class="skills-section" data-section="frontend">
			<h2>Frontend</h2>
			<div class="skills-list">
				{#each skills.frontend as skill}
					<div class="skill-card">
						<span class="skill-icon {mountedSections.frontend ? 'animate' : ''}">
							<Icon icon={skill.icon}/>
						</span>
					</div>
				{/each}
			</div>
		</section>

		<section class="skills-section" data-section="backend">
			<h2>Backend</h2>
			<div class="skills-list">
				{#each skills.backend as skill}
					<div class="skill-card">
                <span class="skill-icon {mountedSections.backend ? 'animate' : ''}"
					  style="font-size: {skill.name === 'Express' ? '1.5rem' : '3rem'};">
                    <Icon icon={skill.icon} />
                </span>
					</div>
				{/each}
			</div>
		</section>

		<section class="skills-section" data-section="tools">
			<h2>Outils</h2>
			<div class="skills-list">
				{#each skills.tools as skill}
					<div class="skill-card">
						<span class="skill-icon {mountedSections.tools ? 'animate' : ''}">
							<Icon icon={skill.icon}/>
						</span>
					</div>
				{/each}
			</div>
		</section>
	</div>
</div>

<style>
	.about-container {
		padding: clamp(2rem, 3vw, 2rem);
	}

	.page-title {
		font-size: clamp(2rem, 5vw, 3rem);
		margin-bottom: clamp(2rem, 5vw, 3rem);
		text-align: center;
	}

	.about-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
		gap: clamp(2rem, 5vw, 4rem);
	}

	.about-section,
	.skills-section {
		background: #f9f9f9;
		border-radius: 8px;
		padding: 2rem;
		box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
	}

	.content-card {
		background: white;
		padding: clamp(1.5rem, 3vw, 2rem);
		border-radius: 8px;
		box-shadow: 0 2px 4px rgba(0,0,0,0.1);
	}

	h2 {
		font-size: clamp(1.5rem, 4vw, 2rem);
		margin-bottom: 2rem;
		text-align: center;
	}

	.soft-skills-list {
		display: flex;
		gap: 1.5rem;
		justify-content: center;
		flex-wrap: wrap;
		margin-bottom: 2rem;
	}

	.soft-skill-card {
		display: flex;
		justify-content: center;
		align-items: center;
		transition: transform 0.3s, box-shadow 0.3s;
		margin: 0.5rem;
		border: 2px solid var(--skill-color);
		border-radius: 8px;
		background-color: transparent;
		position: relative;
		width: 8em;
		height: 3em;
		cursor: pointer;
	}

	.soft-skill-card:hover {
		transform: translateY(-5px);
		box-shadow: 0 6px 12px rgba(0,0,0,0.15);
		background-color: var(--skill-color);
		z-index: 10;
	}

	.soft-skill-name {
		font-weight: bold;
		font-size: 1rem;
		text-align: center;
		color: var(--skill-color);
		transition: color 0.3s;
		pointer-events: none;
	}

	.soft-skill-card:hover .soft-skill-name {
		color: white;
	}

	.skill-description {
		position: absolute;
		top: 100%;
		left: 0;
		width: 300px;
		background-color: white;
		border: 2px solid var(--skill-color);
		border-radius: 8px;
		padding: 1rem;
		opacity: 0;
		visibility: hidden;
		transition: opacity 0.3s ease, visibility 0.3s ease;
		box-shadow: 0 6px 16px rgba(0,0,0,0.15);
		z-index: 20;
		text-align: left;
		margin-top: 10px;
	}

	.skill-description p {
		font-size: 0.9rem;
		color: #333;
		margin: 0;
		line-height: 1.5;
	}

	.soft-skill-card:hover .skill-description {
		opacity: 1;
		visibility: visible;
		transition-delay: 0.1s;
	}

	.skill-description::before {
		content: '';
		position: absolute;
		top: -10px;
		left: 20px;
		width: 0;
		height: 0;
		border-left: 10px solid transparent;
		border-right: 10px solid transparent;
		border-bottom: 10px solid var(--skill-color);
	}

	.buttons-container {
		display: flex;
		justify-content: center;
		gap: 2.5rem;
		margin-top: 2rem;
		flex-wrap: wrap;
	}

	.certificate-link {
		text-decoration: none;
		cursor: pointer;
	}

	.certificate-button {
		display: flex;
		flex-direction: column;
		align-items: center;
		transition: all 0.3s ease;
		position: relative;
		width: 120px;
		height: 100px;
	}

	.certificate-image {
		width: 80px;
		height: 80px;
		object-fit: cover;
		transition: transform 0.3s ease;
		border-radius: 50%;
	}

	.certificate-text {
		opacity: 0;
		transform: translateY(-10px);
		transition: all 0.3s ease;
		position: absolute;
		bottom: -25px;
		text-align: center;
		color: #333;
		font-weight: 600;
		width: 100%;
		pointer-events: none;
	}

	.certificate-button:hover .certificate-image {
		transform: translateY(-5px);
		box-shadow: 0 5px 15px rgba(0,0,0,0.1);
	}

	.certificate-button:hover .certificate-text {
		opacity: 1;
		transform: translateY(0);
	}

	.skills-container {
		padding: clamp(1rem, 3vw, 2rem);
		max-width: 1200px;
		margin: 0 auto;
	}

	.skills-sections {
		display: flex;
		flex-direction: column;
		gap: 3rem;
	}

	.skills-list {
		display: flex;
		gap: 2.5rem;
		justify-content: center;
		flex-wrap: wrap;
	}

	.skill-card {
		display: flex;
		flex-direction: column;
		align-items: center;
		padding: 1rem;
		width: 80px;
		height: 80px;
		transition: transform 0.3s, box-shadow 0.3s;
		border-radius: 50%;
		background-color: #fff;
		box-shadow: 0 2px 10px rgba(0,0,0,0.1);
		justify-content: center;
	}

	.skill-card:hover {
		transform: translateY(-5px) scale(1.1);
		box-shadow: 0 5px 15px rgba(0,0,0,0.2);
	}

	.skill-icon {
		font-size: 2.5rem;
		display: flex;
		align-items: center;
		justify-content: center;
	}

	.skill-icon.animate {
		animation: popIn 0.5s ease forwards;
	}


	@keyframes popIn {
		0% {
			transform: scale(0);
			opacity: 0;
		}
		70% {
			transform: scale(1.1);
			opacity: 1;
		}
		100% {
			transform: scale(1);
			opacity: 1;
		}
	}

	@media (hover: none) {
		.soft-skill-card:active .skill-description {
			opacity: 1;
			visibility: visible;
		}

		.certificate-button:active .certificate-text {
			opacity: 1;
			transform: translateY(0);
		}
	}

	/* Media queries */
	@media (max-width: 768px) {
		.soft-skills-list {
			gap: 1rem;
		}

		.soft-skill-card {
			width: 140px;
		}

		.skill-description {
			width: 250px;
			left: 50%;
			transform: translateX(-50%);
		}

		.skill-description::before {
			left: 50%;
			transform: translateX(-50%);
		}

		.skills-list {
			gap: 1.5rem;
		}

		.skill-card {
			width: 70px;
			height: 70px;
		}

		.buttons-container {
			gap: 3rem;
		}

		.certificate-button {
			width: 100px;
		}

		.certificate-image {
			width: 70px;
			height: 70px;
		}
	}
</style>